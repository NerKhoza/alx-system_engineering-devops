#!/usr/bin/env bash

# Step 1: Install Nginx if not already installed
if ! command -v nginx &>/dev/null; then
    sudo apt update
    sudo apt install nginx -y
fi

# Step 2: Create a temporary configuration file for redirection
cat <<EOF | sudo tee /etc/nginx/sites-available/redirect_me
server {
    listen 80;
    server_name _;

    location /redirect_me {
        return 301 https://www.example.com/new_page;
    }

    # Additional server configurations can be added here if needed
}
EOF

# Step 3: Enable the redirection site and reload Nginx
sudo ln -s /etc/nginx/sites-available/redirect_me /etc/nginx/sites-enabled/
sudo nginx -t && sudo systemctl reload nginx

echo "Redirection configured successfully!"

